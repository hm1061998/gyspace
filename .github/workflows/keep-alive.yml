name: Keep Alive Backend

on:
  schedule:
    - cron: "*/10 * * * *" # Chạy mỗi 10 phút (trước khi Render ngủ ở phút thứ 15)
  workflow_dispatch: # Cho phép chạy thủ công

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Backend Endpoint
        # Thay thế URL bên dưới bằng URL backend thực tế của bạn trên Render
        # Ví dụ: https://gyspace-backend.onrender.com/api/health
        # Nếu chưa có URL, workflow này sẽ lỗi hoặc không làm gì nếu bạn chưa sửa.
        # Bạn cũng có thể dùng Secrets: ${{ secrets.BACKEND_url }}
        run: |
          echo "Pinging backend to prevent sleep..."
          curl -I https://gyspace.onrender.com/api/health || echo "Ping failed or URL not set"
